# ===================================================================
# Nome da Aplicacao
# ===================================================================
spring.application.name=close-backend

# ===================================================================
# Configuracao do Banco de Dados
# ===================================================================
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# Ajuste vital para compatibilidade com bancos em nuvem (Supabase/PostgreSQL)
# Resolve o erro: "prepared statement already exists"
spring.datasource.hikari.data-source-properties.prepareThreshold=0

# ===================================================================
# JPA / Hibernate
# ===================================================================
# Use 'update' em desenvolvimento, mas o cliente deve receber como 'validate' ou 'none'
spring.jpa.hibernate.ddl-auto=update

# Mude para 'false' na entrega final para não expor queries no console do cliente
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Melhora a performance de conexões com o banco
spring.jpa.open-in-view=false

# ===================================================================
# Segurança e JWT
# ===================================================================
api.security.token.secret=${JWT_SECRET}

# ===================================================================
# Configuracao de Email (Gmail SMTP)
# ===================================================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${EMAIL_USER}
spring.mail.password=${EMAIL_PASS}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=3000
spring.mail.properties.mail.smtp.writetimeout=5000

# ===================================================================
# Variáveis de Ambiente Customizadas
# ===================================================================
# URL base para o CORS e para os links de e-mail (Mudar no servidor do cliente)
app.frontend.url=http://localhost:5173

# ===================================================================
# Server Config
# ===================================================================
server.port=8080